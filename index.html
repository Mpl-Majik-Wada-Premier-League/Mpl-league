<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MPL League</title>
<style>
body { font-family: Arial, sans-serif; background:#f7f7f7; margin:0; padding:0; }
header { background:#1a73e8; color:white; padding:20px; text-align:center; }
nav { padding:15px; text-align:center; }
.match-card { background:white; margin:15px; padding:15px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.2); transition:0.3s; }
.match-card:hover { transform:scale(1.03); box-shadow:0 0 15px rgba(0,0,0,0.3); }
h2 { text-align:center; }
</style>
</head>
<body>

<header>
  <h1>MPL League</h1>
</header>

<nav>
  <label for="yearSelect">Select Year:</label>
  <select id="yearSelect"></select>
</nav>

<main>
  <section id="liveSection">
    <h2>Live Matches</h2>
    <div id="liveMatches">No live matches yet.</div>
  </section>

  <section id="upcomingSection">
    <h2>Upcoming Matches</h2>
    <div id="upcomingMatches">No upcoming matches yet.</div>
  </section>
</main>

<script>
const yearSelect = document.getElementById('yearSelect');
const liveMatchesDiv = document.getElementById('liveMatches');
const upcomingMatchesDiv = document.getElementById('upcomingMatches');

fetch('data.json')
.then(res => res.json())
.then(data => {
  Object.keys(data).forEach(year => {
    const option = document.createElement('option');
    option.value = year;
    option.textContent = year;
    yearSelect.appendChild(option);
  });
  showMatches(Object.keys(data)[0], data);
  yearSelect.addEventListener('change', () => showMatches(yearSelect.value, data));
});

function showMatches(year, data){
  const matches = data[year] || [];
  liveMatchesDiv.innerHTML = '';
  upcomingMatchesDiv.innerHTML = '';

  if(matches.length === 0){
    liveMatchesDiv.innerHTML = '<p>No live matches.</p>';
    upcomingMatchesDiv.innerHTML = '<p>No upcoming matches.</p>';
    return;
  }

  matches.forEach(match => {
    const card = document.createElement('div');
    card.classList.add('match-card');
    card.innerHTML = `
      <h3>${match.teamA || 'Team A'} vs ${match.teamB || 'Team B'}</h3>
      <p>Date: ${match.date || 'TBD'} | Time: ${match.time || 'TBD'}</p>
      <p>Status: ${match.status || 'Upcoming'}</p>
      <p>Score: ${match.teamA || '-'} ${match.scoreA || 0}/${match.wicketsA || 0} | ${match.teamB || '-'} ${match.scoreB || 0}/${match.wicketsB || 0}</p>
      <p>Overs: ${match.teamA || '-'} ${match.oversA || 0} | ${match.teamB || '-'} ${match.oversB || 0}</p>
      <p>Top Run Scorer: ${match.topRunScorer || '-'} | Top Wicket Taker: ${match.topWicketTaker || '-'}</p>
    `;
    if(match.status && match.status.toLowerCase() === 'live'){
      liveMatchesDiv.appendChild(card);
    } else {
      upcomingMatchesDiv.appendChild(card);
    }
  });

  if(liveMatchesDiv.innerHTML === '') liveMatchesDiv.innerHTML = '<p>No live matches currently.</p>';
  if(upcomingMatchesDiv.innerHTML === '') upcomingMatchesDiv.innerHTML = '<p>No upcoming matches.</p>';
}
</script>

</body>
</html>
