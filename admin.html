<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MPL Admin Panel</title>
<style>
body{font-family:'Poppins',sans-serif;background:#f4f6f8;margin:0;padding:0;}
header{background:linear-gradient(90deg,#1a73e8,#0d47a1);color:white;padding:15px 20px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,0.3);}
form{margin:20px; background:white; padding:20px; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.2);}
form input, form select, form button{display:block;margin:5px 0;padding:8px;width:100%; border-radius:5px; border:1px solid #ccc;}
form button{background:#1a73e8;color:white;border:none;cursor:pointer; transition:0.3s;}
form button:hover{background:#0d47a1;}
.year-section{margin:20px 0; padding:15px; background:white; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.2);}
</style>
</head>
<body>

<header>
<h1>MPL Admin Panel</h1>
</header>

<div id="loginDiv">
<input type="password" id="adminPass" placeholder="Enter Password">
<button onclick="login()">Login</button>
<p id="loginMsg"></p>
</div>

<div id="adminDiv" style="display:none;">

<h2>Upload MPL Logo</h2>
<input type="file" id="logoUpload" accept="image/*">
<button type="button" onclick="updateLogo()">Upload Logo</button>

<h2>Year Management</h2>
<label>Year:</label><input type="number" id="yearInput" value="2026">
<button type="button" onclick="addYear()">Add/Select Year</button>

<div id="yearSections"></div>

</div>

<script>
const password="@mpl_abhi_ihba_2006_09_20_3107//pp2211";
const loginDiv=document.getElementById('loginDiv');
const adminDiv=document.getElementById('adminDiv');
let allData={};

function login(){
  const pass=document.getElementById('adminPass').value;
  if(pass===password){loginDiv.style.display='none'; adminDiv.style.display='block';}
  else document.getElementById('loginMsg').textContent="Incorrect password!";
}

function updateLogo(){
  const file=document.getElementById('logoUpload').files[0];
  if(!file) return alert('Select image!');
  const reader=new FileReader();
  reader.onload=function(e){
    let img=document.querySelector('#mplLogo');
    if(!img){
      img=document.createElement('img');
      img.id='mplLogo';
      img.alt='MPL Logo';
      img.style.height='50px';
      img.style.marginRight='15px';
      document.querySelector('header').prepend(img);
    }
    img.src=e.target.result;
    alert('Logo updated!');
  }
  reader.readAsDataURL(file);
}

function addYear(){
  const year=document.getElementById('yearInput').value;
  if(!allData[year]) allData[year]={live:[],upcoming:[],completed:[],players:[]};
  renderYearSection(year);
}

function renderYearSection(year){
  const container=document.getElementById('yearSections');
  const section=document.createElement('div'); section.className='year-section';
  section.innerHTML=`
  <h3>Year ${year}</h3>
  <h4>Add Match</h4>
  <label>Type:</label>
  <select id="matchType-${year}"><option value="live">Live</option><option value="upcoming">Upcoming</option><option value="completed">Completed</option></select>
  <label>Date:</label><input type="date" id="date-${year}">
  <label>Time:</label><input type="time" id="time-${year}">
  <label>Team A:</label><input type="text" id="teamA-${year}">
  <label>Team A Logo URL:</label><input type="text" id="teamALogo-${year}">
  <label>Team B:</label><input type="text" id="teamB-${year}">
  <label>Team B Logo URL:</label><input type="text" id="teamBLogo-${year}">
  <label>Score Team A:</label><input type="number" id="scoreA-${year}">
  <label>Wickets Team A:</label><input type="number" id="wicketsA-${year}">
  <label>Overs Team A:</label><input type="number" id="oversA-${year}">
  <label>Score Team B:</label><input type="number" id="scoreB-${year}">
  <label>Wickets Team B:</label><input type="number" id="wicketsB-${year}">
  <label>Overs Team B:</label><input type="number" id="oversB-${year}">
  <label>Top Run:</label><input type="text" id="topRun-${year}">
  <label>Top Wkt:</label><input type="text" id="topWkt-${year}">
  <button onclick="addMatch('${year}')">Add Match</button>

  <h4>Add Player</h4>
  <label>Team:</label><input type="text" id="pTeam-${year}">
  <label>Player Name:</label><input type="text" id="pName-${year}">
  <label>Logo URL:</label><input type="text" id="pLogo-${year}">
  <button onclick="addPlayer('${year}')">Add Player</button>
  `;
  container.appendChild(section);
}

function addMatch(year){
  const match={
    status:document.getElementById(`matchType-${year}`).value,
    date:document.getElementById(`date-${year}`).value,
    time:document.getElementById(`time-${year}`).value,
    teamA:document.getElementById(`teamA-${year}`).value,
    teamALogo:document.getElementById(`teamALogo-${year}`).value,
    teamB:document.getElementById(`teamB-${year}`).value,
    teamBLogo:document.getElementById(`teamBLogo-${year}`).value,
    scoreA:parseInt(document.getElementById(`scoreA-${year}`).value)||0,
    wicketsA:parseInt(document.getElementById(`wicketsA-${year}`).value)||0,
    oversA:parseInt(document.getElementById(`oversA-${year}`).value)||0,
    scoreB:parseInt(document.getElementById(`scoreB-${year}`).value)||0,
    wicketsB:parseInt(document.getElementById(`wicketsB-${year}`).value)||0,
    oversB:parseInt(document.getElementById(`oversB-${year}`).value)||0,
    topRun:document.getElementById(`topRun-${year}`).value,
    topWkt:document.getElementById(`topWkt-${year}`).value
  };
  allData[year][match.status].push(match);
  alert(`Match added for year ${year}!`);
}

function addPlayer(year){
  const player={team:document.getElementById(`pTeam-${year}`).value,
    name:document.getElementById(`pName-${year}`).value,
    logo:document.getElementById(`pLogo-${year}`).value
  };
  allData[year].players.push(player);
  alert(`Player added for year ${year}!`);
}
</script>
</body>
</html>
        ${m.teamALogo?`<img class="team-logo" src="${m.teamALogo}">`:''}${m.teamA} 
        vs 
        ${m.teamBLogo?`<img class="team-logo" src="${m.teamBLogo}">`:''}${m.teamB}</h3>
        <p>Date: ${m.date} | Time: ${m.time}</p>
        ${m.status==='live'?`<p>Score: <span class="score-number">${m.teamA} ${m.scoreA}/${m.wicketsA}</span> | <span class="score-number">${m.teamB} ${m.scoreB}/${m.wicketsB}</span></p>
        <p>Overs: ${m.oversA} | ${m.oversB}</p>
        <p>Top Run: ${m.topRun} | Top Wicket: ${m.topWkt}</p>`:''}`;
      container.appendChild(card);
    });
  }

  renderMatches(allData[liveYear]?.live||[], document.getElementById('liveMatches'));
  renderMatches(allData[upcomingYear]?.upcoming||[], document.getElementById('upcomingMatches'));
  renderMatches(allData[completedYear]?.completed||[], document.getElementById('completedMatches'));

  const playersDiv=document.getElementById('playersList');
  playersDiv.innerHTML = allData[playersYear]?.players?.length?'':'<p>No players yet.</p>';
  allData[playersYear]?.players?.forEach(p=>{
    const card=document.createElement('div'); card.className='player-card';
    card.innerHTML=`<img src="${p.logo}" alt="${p.team}"><strong>${p.name}</strong><p>${p.team}</p>`;
    playersDiv.appendChild(card);
  });
}

renderYears();
renderAll();
</script>
</body>
</html>
